/**
 * i18n.tsx â€” Reactive internationalization for ReportaYa
 * Supports: 'es' ðŸ‡ªðŸ‡¸ | 'en' ðŸ‡¬ðŸ‡§ | 'fr' ðŸ‡«ðŸ‡· | 'it' ðŸ‡®ðŸ‡¹ | 'pt' ðŸ‡µðŸ‡¹
 */
import React, { createContext, useContext, useState, useCallback } from 'react';

export type Locale = 'es' | 'en' | 'fr' | 'it' | 'pt';

export const LOCALES: { code: Locale; flag: string; label: string }[] = [
    { code: 'es', flag: 'ðŸ‡ªðŸ‡¸', label: 'EspaÃ±ol' },
    { code: 'en', flag: 'ðŸ‡¬ðŸ‡§', label: 'English' },
    { code: 'fr', flag: 'ðŸ‡«ðŸ‡·', label: 'FranÃ§ais' },
    { code: 'it', flag: 'ðŸ‡®ðŸ‡¹', label: 'Italiano' },
    { code: 'pt', flag: 'ðŸ‡µðŸ‡¹', label: 'PortuguÃªs' },
];

// â”€â”€â”€ Translation dictionary â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const dict: Record<Locale, Record<string, string>> = {

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ESPAÃ‘OL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    es: {
        // Nav
        'nav.home': 'Inicio', 'nav.map': 'Mapa', 'nav.create': 'Crear Reporte',
        'nav.admin': 'Panel Admin', 'nav.shop': 'Tienda', 'nav.profile': 'Perfil',
        'nav.settings': 'Ajustes', 'nav.login': 'Entrar', 'nav.logout': 'Cerrar sesiÃ³n',
        // Auth
        'auth.login': 'INICIAR SESIÃ“N', 'auth.register': 'REGISTRARSE',
        'auth.welcome': 'Bienvenido', 'auth.create_account': 'Crear Cuenta',
        'auth.email': 'Correo electrÃ³nico', 'auth.password': 'ContraseÃ±a',
        'auth.confirm_password': 'Confirmar ContraseÃ±a', 'auth.name': 'Nombre Completo',
        'auth.forgot': 'Â¿Olvidaste tu contraseÃ±a?', 'auth.loading': 'Cargando...',
        'auth.enter': 'Entrar â†’', 'auth.fill_required': 'Por favor, rellena todos los campos obligatorios.',
        'auth.passwords_no_match': 'Las contraseÃ±as no coinciden.', 'auth.error': 'Error en la autenticaciÃ³n',
        'auth.name_placeholder': 'Tu nombre', 'auth.email_placeholder': 'correo@ejemplo.com',
        'auth.forgot_support': 'Por favor, contacta con soporte para restablecer tu contraseÃ±a.',
        // Report form
        'report.photo': 'FotografÃ­a', 'report.click_drag': 'Haz clic o arrastra una foto',
        'report.description': 'DescripciÃ³n', 'report.desc_placeholder': 'Describe el problema (ej. Farola rota en Alameda...)',
        'report.title': 'TÃ­tulo', 'report.title_placeholder': 'TÃ­tulo breve',
        'report.category': 'CategorÃ­a', 'report.location': 'UbicaciÃ³n',
        'report.location_hint': 'Introduce la calle o detecta tu ubicaciÃ³n:',
        'report.street_placeholder': 'Escribe la calle...', 'report.detect': 'Detectar mi ubicaciÃ³n',
        'report.detecting': 'Localizando...', 'report.detected': 'UbicaciÃ³n detectada',
        'report.cancel': 'Cancelar', 'report.submit': 'Enviar Reporte',
        'report.ai': 'IA Auto-completar', 'report.analyzing': 'Analizando...',
        'report.delete': 'Eliminar', 'report.validating': 'Validando...',
        'report.selected_location': 'UbicaciÃ³n seleccionada:', 'report.lat': 'Latitud:', 'report.lng': 'Longitud:',
        // Map
        'map.legend': 'Leyenda', 'map.pending': 'Pendiente', 'map.in_progress': 'En Proceso', 'map.resolved': 'Resuelto',
        'map.no_issues': 'No hay incidencias.', 'map.all_categories': 'Todas las CategorÃ­as',
        'map.all_statuses': 'Todos los Estados', 'map.filter': 'Filtrar:', 'map.results': 'resultados',
        // Profile & Settings (unified)
        'ps.tab_profile': 'Perfil', 'ps.tab_settings': 'Ajustes',
        'ps.edit': 'Editar', 'ps.cancel': 'Cancelar', 'ps.save': 'Guardar Cambios',
        'ps.upload_photo': 'Subir foto', 'ps.remove_photo': 'Eliminar foto',
        'ps.personal_info': 'InformaciÃ³n Personal',
        'ps.name': 'Nombre', 'ps.email': 'Email', 'ps.role': 'Rol',
        'ps.profile_tag': 'Tag de perfil', 'ps.tag_none': 'Ninguno',
        'ps.badges': 'Insignias', 'ps.no_badges': 'No tienes insignias aÃºn.',
        'ps.stats': 'EstadÃ­sticas', 'ps.reports': 'Reportes', 'ps.resolved': 'Resueltos',
        'ps.citizen': 'Ciudadano activo', 'ps.admin_title': 'Administrador Municipal',
        'ps.admin_panel': 'Panel de Administrador', 'ps.admin_desc': 'Acceso privilegiado para la gestiÃ³n de servicios urbanos.',
        'ps.level': 'Nivel', 'ps.next_level': 'PrÃ³ximo Nivel:', 'ps.keep_reporting': 'Sigue reportando para ganar EXP y subir de nivel.',
        'ps.unlockable_tags': 'Etiquetas desbloqueables', 'ps.acquired': 'Adquirido', 'ps.unlocked': 'Desbloqueado',
        'ps.select_tag': 'Seleccionar tag', 'ps.claim_tag': 'Reclamar y seleccionar tag', 'ps.requires_level': 'Requiere nivel',
        'ps.tag_claimed': 'Tag reclamado', 'ps.tag_selected': 'Tag seleccionado',
        // Settings section
        'settings.title': 'Ajustes', 'settings.language': 'Idioma', 'settings.theme': 'Tema',
        'settings.theme_light': 'Modo claro', 'settings.theme_dark': 'Modo oscuro',
        'settings.account': 'Cuenta', 'settings.change_password': 'Cambiar contraseÃ±a',
        'settings.current_password': 'ContraseÃ±a actual', 'settings.new_password': 'Nueva contraseÃ±a',
        'settings.save_pw': 'Cambiar contraseÃ±a', 'settings.saving': 'Guardando...',
        'settings.clear': 'Limpiar', 'settings.pw_saved': 'ContraseÃ±a actualizada correctamente',
        'settings.not_auth': 'No estÃ¡s autenticado', 'settings.fill_both': 'Rellena ambos campos',
        'settings.logout': 'Cerrar sesiÃ³n',
        // Access control
        'access.denied': 'Acceso Restringido', 'access.admin_only': 'Solo personal autorizado del Ayuntamiento.',
        // General
        'general.no_issues': 'No hay incidencias.', 'general.results': 'resultados',
        'general.citizen': 'Ciudadano', 'general.admin': 'Administrador',
        // Categories & Status
        'cat.infra': 'Infraestructura', 'cat.lighting': 'Alumbrado', 'cat.cleaning': 'Limpieza',
        'cat.noise': 'Ruido', 'cat.parks': 'Parques y Jardines', 'cat.other': 'Otro',
        'status.pending': 'Pendiente', 'status.in_progress': 'En Proceso', 'status.resolved': 'Resuelto',
        // Landing Page
        'landing.platform': 'La plataforma ciudadana de Sevilla',
        'landing.hero_line1': 'Tu barrio,', 'landing.hero_line2': 'en buenas manos.',
        'landing.subtitle': 'Reporta incidencias urbanas al instante y colabora con el Ayuntamiento para hacer de Sevilla un lugar mejor para todos.',
        'landing.cta_start': 'Empezar Ahora', 'landing.cta_map': 'Explorar Mapa',
        'landing.step1_title': '1. Captura', 'landing.step1_desc': 'Toma una foto del problema y adjÃºntala en la aplicaciÃ³n.',
        'landing.step2_title': '2. Geolocaliza', 'landing.step2_desc': 'Confirma la ubicaciÃ³n exacta en el mapa interactivo para que los servicios sepan dÃ³nde actuar.',
        'landing.step3_title': '3. Resuelve', 'landing.step3_desc': 'Gana puntos cuando tu incidencia sea validada y observa cÃ³mo se soluciona en tiempo real.',
        'landing.stat_districts': 'Distritos', 'landing.stat_neighbors': 'Vecinos', 'landing.stat_resolved': 'Resueltas', 'landing.stat_rating': 'ValoraciÃ³n',
        // Shop
        'shop.title': 'Tienda de Recompensas', 'shop.subtitle': 'Canjea tus puntos por personalizaciones exclusivas',
        'shop.balance': 'Tu Saldo', 'shop.how_points': 'CÃ³mo funcionan los puntos',
        'shop.premium_title': 'ReportaYa Premium', 'shop.premium_sub': 'Fondos exclusivos, etiquetas Ãºnicas y soporte prioritario.',
        'shop.premium_exclusive': 'Contenido exclusivo', 'shop.premium_tags': 'Etiquetas premium',
        'shop.get_premium': 'Quiero Premium', 'shop.my_benefits': 'Ver mis ventajas',
        'shop.tab_frames': 'Marcos', 'shop.tab_backgrounds': 'Fondos', 'shop.tab_badges': 'Etiquetas',
        'shop.free': 'Gratis', 'shop.equipped': 'Equipado', 'shop.equip': 'Equipar',
        'shop.buy': 'Comprar', 'shop.no_points': 'Faltan Puntos', 'shop.premium_only': 'Solo Premium',
        'shop.close': 'Cerrar', 'shop.price': 'Precio',
        'shop.points_title': 'Â¿CÃ³mo funcionan los Puntos y la XP?',
        'shop.points_sub': 'Resumen rÃ¡pido de cÃ³mo ganar puntos, subir de nivel y canjearlos en la tienda.',
        'shop.points_card': 'Puntos', 'shop.points_desc': 'Los puntos se obtienen al enviar reportes y se usan para canjear fondos, marcos e insignias en la tienda.',
        'shop.xp_card': 'XP y Niveles', 'shop.xp_desc': 'La experiencia XP refleja tu actividad. Subiendo niveles desbloqueas etiquetas cada 20 niveles.',
        'shop.store_card': 'Tienda', 'shop.store_desc': 'Canjea tus puntos por personalizaciones. Algunos artÃ­culos requieren Premium.',
        'shop.buy_for': 'Comprar por', 'shop.premium_thanks': 'Â¡Gracias por adquirir Premium!', 'shop.premium_updated': 'Tu cuenta ha sido actualizada.',
        'shop.premium_enjoy': 'Disfruta de fondos y etiquetas exclusivas, bonificaciones y soporte prioritario.',
        // Shop Items & Reports
        'item.frame_default.name': 'Borde ClÃ¡sico', 'item.frame_default.desc': 'El estilo estÃ¡ndar.',
        'item.frame_betis.name': 'Verdiblanco', 'item.frame_betis.desc': 'Para los fieles de HeliÃ³polis.',
        'item.frame_seville.name': 'Rojo Sevilla', 'item.frame_seville.desc': 'Para los fieles de NerviÃ³n.',
        'item.frame_gold.name': 'Marco Oro', 'item.frame_gold.desc': 'Un toque de elegancia para ciudadanos ejemplares.',
        'item.frame_feria.name': 'Feria de Abril', 'item.frame_feria.desc': 'Estilo farolillos y lunares.',
        'item.frame_nazareno.name': 'Semana Santa', 'item.frame_nazareno.desc': 'Solemne morado nazareno.',
        'item.frame_triana.name': 'CerÃ¡mica Triana', 'item.frame_triana.desc': 'Inspirado en los azulejos del puente.',
        'item.frame_diamond.name': 'Diamante VIP', 'item.frame_diamond.desc': 'Solo para los ciudadanos mÃ¡s activos.',
        'item.bg_default.name': 'Verde Esperanza', 'item.bg_default.desc': 'Fondo Verde Esperanza.',
        'item.bg_alameda.name': 'Atardecer Plaza EspaÃ±a', 'item.bg_alameda.desc': 'Atardecer Plaza EspaÃ±a.',
        'item.bg_guadalquivir.name': 'RÃ­o Guadalquivir', 'item.bg_guadalquivir.desc': 'Frescura azul verdosa.',
        'item.bg_azahar.name': 'Catedral de Sevilla', 'item.bg_azahar.desc': 'Catedral de Sevilla.',
        'item.bg_fondo_inicio.name': 'Fondo Inicio', 'item.bg_fondo_inicio.desc': 'Imagen de cabecera del sitio.',
        'item.bg_mosaico.name': 'Feria de Sevilla', 'item.bg_mosaico.desc': 'Feria de Sevilla.',
        'item.bg_cielo.name': 'Cielo Sevillano', 'item.bg_cielo.desc': 'Vistas de la ciudad y del cielo.',
        'item.bg_plaza_alba.name': 'Plaza al Alba', 'item.bg_plaza_alba.desc': 'Tonos cÃ¡lidos al amanecer.',
        'item.bg_azulejos.name': 'Azulejos Triana', 'item.bg_azulejos.desc': 'PatrÃ³n inspirado en azulejos.',
        'item.bg_giralda.name': 'Atardecer Giralda', 'item.bg_giralda.desc': 'Los colores del cielo sobre la torre.',
        'item.bg_alcazar.name': 'Oro del AlcÃ¡zar', 'item.bg_alcazar.desc': 'Lujo histÃ³rico y patrones dorados.',
        'item.bg_noche.name': 'Noche Sevillana', 'item.bg_noche.desc': 'Elegancia nocturna bajo las estrellas.',
        'item.tag_colaborador.name': 'Colaborador', 'item.tag_colaborador.desc': 'Usuario activo que colabora con su barrio.',
        'item.tag_guardian.name': 'GuardiÃ¡n de Sevilla', 'item.tag_guardian.desc': 'Protege y vigila tu entorno urbano.',
        'item.tag_mvp.name': 'MVP Ciudadano', 'item.tag_mvp.desc': 'Reconocimiento por contribuciones destacadas.',
        'item.tag_voluntario.name': 'Voluntario', 'item.tag_voluntario.desc': 'Participa en iniciativas de barrio.',
        'item.tag_conserje.name': 'Conserje', 'item.tag_conserje.desc': 'Cuida tu entorno y reporta anomalÃ­as.',
        'item.tag_elite.name': 'Ã‰lite Ciudadana', 'item.tag_elite.desc': 'Etiqueta exclusiva para usuarios Premium.',
        'item.tag_embajador.name': 'Embajador', 'item.tag_embajador.desc': 'Representante activo y reconocido de la comunidad.',
        'item.tag_founder.name': 'Founder', 'item.tag_founder.desc': 'EdiciÃ³n limitada para mecenas fundadores.',
        'item.tag_developer.name': 'Developer', 'item.tag_developer.desc': 'Insignia de desarrollador (test).',
        'item.tag_admin.name': 'Admin', 'item.tag_admin.desc': 'Insignia de administrador municipal.',

        // Stats Panel
        'stats.title': 'Panel de Control Municipal', 'stats.subtitle': 'GestiÃ³n de incidencias y mÃ©tricas de la ciudad',
        'stats.city': 'Sevilla, EspaÃ±a', 'stats.total_reports': 'Total Reportes', 'stats.resolved_reports': 'Resueltas',
        'stats.avg_time': 'Tiempo Medio', 'stats.status_chart': 'Estado de Incidencias', 'stats.category_chart': 'Por CategorÃ­a',
        'stats.pending': 'Pendiente', 'stats.in_progress': 'En Proceso', 'stats.resolved': 'Resuelto',
    },

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ENGLISH â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    en: {
        'nav.home': 'Home', 'nav.map': 'Map', 'nav.create': 'Create Report',
        'nav.admin': 'Admin Panel', 'nav.shop': 'Shop', 'nav.profile': 'Profile',
        'nav.settings': 'Settings', 'nav.login': 'Log In', 'nav.logout': 'Log Out',
        'auth.login': 'LOG IN', 'auth.register': 'REGISTER',
        'auth.welcome': 'Welcome', 'auth.create_account': 'Create Account',
        'auth.email': 'Email address', 'auth.password': 'Password',
        'auth.confirm_password': 'Confirm Password', 'auth.name': 'Full Name',
        'auth.forgot': 'Forgot your password?', 'auth.loading': 'Loading...',
        'auth.enter': 'Sign In â†’', 'auth.fill_required': 'Please fill in all required fields.',
        'auth.passwords_no_match': 'Passwords do not match.', 'auth.error': 'Authentication error',
        'auth.name_placeholder': 'Your name', 'auth.email_placeholder': 'email@example.com',
        'auth.forgot_support': 'Please contact support to reset your password.',
        'report.photo': 'Photo', 'report.click_drag': 'Click or drag a photo here',
        'report.description': 'Description', 'report.desc_placeholder': 'Describe the issue (e.g. Broken streetlight on Main St...)',
        'report.title': 'Title', 'report.title_placeholder': 'Brief title',
        'report.category': 'Category', 'report.location': 'Location',
        'report.location_hint': 'Enter the street address or detect your location:',
        'report.street_placeholder': 'Type a street...', 'report.detect': 'Detect my location',
        'report.detecting': 'Locating...', 'report.detected': 'Location detected',
        'report.cancel': 'Cancel', 'report.submit': 'Submit Report',
        'report.ai': 'AI Autocomplete', 'report.analyzing': 'Analyzing...',
        'report.delete': 'Remove', 'report.validating': 'Validating...',
        'report.selected_location': 'Selected location:', 'report.lat': 'Latitude:', 'report.lng': 'Longitude:',
        'map.legend': 'Legend', 'map.pending': 'Pending', 'map.in_progress': 'In Progress', 'map.resolved': 'Resolved',
        'map.no_issues': 'No issues found.', 'map.all_categories': 'All Categories',
        'map.all_statuses': 'All Statuses', 'map.filter': 'Filter:', 'map.results': 'results',
        'ps.tab_profile': 'Profile', 'ps.tab_settings': 'Settings',
        'ps.edit': 'Edit', 'ps.cancel': 'Cancel', 'ps.save': 'Save Changes',
        'ps.upload_photo': 'Upload photo', 'ps.remove_photo': 'Remove photo',
        'ps.personal_info': 'Personal Information',
        'ps.name': 'Name', 'ps.email': 'Email', 'ps.role': 'Role',
        'ps.profile_tag': 'Profile tag', 'ps.tag_none': 'None',
        'ps.badges': 'Badges', 'ps.no_badges': 'You have no badges yet.',
        'ps.stats': 'Statistics', 'ps.reports': 'Reports', 'ps.resolved': 'Resolved',
        'ps.citizen': 'Active citizen', 'ps.admin_title': 'Municipal Administrator',
        'ps.admin_panel': 'Admin Panel', 'ps.admin_desc': 'Privileged access for urban service management.',
        'ps.level': 'Level', 'ps.next_level': 'Next Level:', 'ps.keep_reporting': 'Keep reporting to earn EXP and level up.',
        'ps.unlockable_tags': 'Unlockable tags', 'ps.acquired': 'Acquired', 'ps.unlocked': 'Unlocked',
        'ps.select_tag': 'Select tag', 'ps.claim_tag': 'Claim and select tag', 'ps.requires_level': 'Requires level',
        'ps.tag_claimed': 'Tag claimed', 'ps.tag_selected': 'Tag selected',
        'settings.title': 'Settings', 'settings.language': 'Language', 'settings.theme': 'Theme',
        'settings.theme_light': 'Light mode', 'settings.theme_dark': 'Dark mode',
        'settings.account': 'Account', 'settings.change_password': 'Change password',
        'settings.current_password': 'Current password', 'settings.new_password': 'New password',
        'settings.save_pw': 'Change password', 'settings.saving': 'Saving...',
        'settings.clear': 'Clear', 'settings.pw_saved': 'Password updated successfully',
        'settings.not_auth': 'You are not authenticated', 'settings.fill_both': 'Fill in both fields',
        'settings.logout': 'Log Out',
        'access.denied': 'Access Denied', 'access.admin_only': 'Authorized city council staff only.',
        'general.no_issues': 'No issues found.', 'general.results': 'results',
        'general.citizen': 'Citizen', 'general.admin': 'Administrator',
        // Categories & Status
        'cat.infra': 'Infrastructure', 'cat.lighting': 'Lighting', 'cat.cleaning': 'Cleaning',
        'cat.noise': 'Noise', 'cat.parks': 'Parks & Gardens', 'cat.other': 'Other',
        'status.pending': 'Pending', 'status.in_progress': 'In Progress', 'status.resolved': 'Resolved',
        'landing.platform': 'The civic platform of Seville',
        'landing.hero_line1': 'Your neighbourhood,', 'landing.hero_line2': 'in good hands.',
        'landing.subtitle': 'Report urban issues instantly and collaborate with the City Council to make Seville a better place for everyone.',
        'landing.cta_start': 'Get Started', 'landing.cta_map': 'Explore Map',
        'landing.step1_title': '1. Capture', 'landing.step1_desc': 'Take a photo of the problem and attach it in the app.',
        'landing.step2_title': '2. Geolocate', 'landing.step2_desc': 'Confirm the exact location on the interactive map so services know where to act.',
        'landing.step3_title': '3. Resolve', 'landing.step3_desc': 'Earn points when your report is validated and see it resolved in real time.',
        'landing.stat_districts': 'Districts', 'landing.stat_neighbors': 'Residents', 'landing.stat_resolved': 'Resolved', 'landing.stat_rating': 'Rating',
        'shop.title': 'Rewards Shop', 'shop.subtitle': 'Redeem your points for exclusive customisations',
        'shop.balance': 'Your Balance', 'shop.how_points': 'How points work',
        'shop.premium_title': 'ReportaYa Premium', 'shop.premium_sub': 'Exclusive backgrounds, unique tags and priority support.',
        'shop.premium_exclusive': 'Exclusive content', 'shop.premium_tags': 'Premium tags',
        'shop.get_premium': 'Get Premium', 'shop.my_benefits': 'My benefits',
        'shop.tab_frames': 'Frames', 'shop.tab_backgrounds': 'Backgrounds', 'shop.tab_badges': 'Badges',
        'shop.free': 'Free', 'shop.equipped': 'Equipped', 'shop.equip': 'Equip',
        'shop.buy': 'Buy', 'shop.no_points': 'Not enough points', 'shop.premium_only': 'Premium only',
        'shop.close': 'Close', 'shop.price': 'Price',
        'shop.points_title': 'How do Points and XP work?',
        'shop.points_sub': 'Quick summary of how to earn points, level up and redeem them in the shop.',
        'shop.points_card': 'Points', 'shop.points_desc': 'Points are earned by submitting reports and used to redeem backgrounds, frames and badges in the shop.',
        'shop.xp_card': 'XP & Levels', 'shop.xp_desc': 'XP reflects your activity. Levelling up unlocks tags every 20 levels.',
        'shop.store_card': 'Shop', 'shop.store_desc': 'Redeem your points for customisations. Some items require Premium.',
        'shop.buy_for': 'Buy for', 'shop.premium_thanks': 'Thanks for getting Premium!', 'shop.premium_updated': 'Your account has been updated.',
        'shop.premium_enjoy': 'Enjoy exclusive backgrounds, tags, bonuses and priority support.',
        // Shop Items & Reports
        'item.frame_default.name': 'Classic Border', 'item.frame_default.desc': 'The standard style.',
        'item.frame_betis.name': 'Green-White', 'item.frame_betis.desc': 'For the Heliopolis faithful.',
        'item.frame_seville.name': 'Seville Red', 'item.frame_seville.desc': 'For the Nervion faithful.',
        'item.frame_gold.name': 'Gold Frame', 'item.frame_gold.desc': 'A touch of elegance for exemplary citizens.',
        'item.frame_feria.name': 'April Fair', 'item.frame_feria.desc': 'Lanterns and polka dots style.',
        'item.frame_nazareno.name': 'Holy Week', 'item.frame_nazareno.desc': 'Solemn Nazarene purple.',
        'item.frame_triana.name': 'Triana Ceramics', 'item.frame_triana.desc': 'Inspired by the bridge tiles.',
        'item.frame_diamond.name': 'VIP Diamond', 'item.frame_diamond.desc': 'Only for the most active citizens.',
        'item.bg_default.name': 'Green Hope', 'item.bg_default.desc': 'Green Hope background.',
        'item.bg_alameda.name': 'Sunset Plaza EspaÃ±a', 'item.bg_alameda.desc': 'Sunset Plaza EspaÃ±a.',
        'item.bg_guadalquivir.name': 'Guadalquivir River', 'item.bg_guadalquivir.desc': 'Greenish-blue freshness.',
        'item.bg_azahar.name': 'Seville Cathedral', 'item.bg_azahar.desc': 'Seville Cathedral.',
        'item.bg_fondo_inicio.name': 'Home Background', 'item.bg_fondo_inicio.desc': 'Home site image.',
        'item.bg_mosaico.name': 'Seville Fair', 'item.bg_mosaico.desc': 'Seville Fair scene.',
        'item.bg_cielo.name': 'Seville Sky', 'item.bg_cielo.desc': 'City and sky views.',
        'item.bg_plaza_alba.name': 'Plaza at Dawn', 'item.bg_plaza_alba.desc': 'Warm tones at sunrise.',
        'item.bg_azulejos.name': 'Triana Tiles', 'item.bg_azulejos.desc': 'Tiles-inspired pattern.',
        'item.bg_giralda.name': 'Giralda Sunset', 'item.bg_giralda.desc': 'Sky colors over the tower.',
        'item.bg_alcazar.name': 'Alcazar Gold', 'item.bg_alcazar.desc': 'Historical luxury and golden patterns.',
        'item.bg_noche.name': 'Seville Night', 'item.bg_noche.desc': 'Nocturnal elegance under the stars.',
        'item.tag_colaborador.name': 'Collaborator', 'item.tag_colaborador.desc': 'Active user collaborating with the neighborhood.',
        'item.tag_guardian.name': 'Seville Guardian', 'item.tag_guardian.desc': 'Protects and watches your urban environment.',
        'item.tag_mvp.name': 'Citizen MVP', 'item.tag_mvp.desc': 'Recognition for outstanding contributions.',
        'item.tag_voluntario.name': 'Volunteer', 'item.tag_voluntario.desc': 'Participates in neighborhood initiatives.',
        'item.tag_conserje.name': 'Concierge', 'item.tag_conserje.desc': 'Takes care of the environment and reports issues.',
        'item.tag_elite.name': 'Citizen Elite', 'item.tag_elite.desc': 'Exclusive tag for Premium users.',
        'item.tag_embajador.name': 'Ambassador', 'item.tag_embajador.desc': 'Active and recognized community representative.',
        'item.tag_founder.name': 'Founder', 'item.tag_founder.desc': 'Limited edition for founding patrons.',
        'item.tag_developer.name': 'Developer', 'item.tag_developer.desc': 'Developer badge (test).',
        'item.tag_admin.name': 'Admin', 'item.tag_admin.desc': 'Municipal administrator badge.',

        // Stats Panel
        'stats.title': 'Municipal Control Panel', 'stats.subtitle': 'Incident management and city metrics',
        'stats.city': 'Seville, Spain', 'stats.total_reports': 'Total Reports', 'stats.resolved_reports': 'Resolved',
        'stats.avg_time': 'Average Time', 'stats.status_chart': 'Issue Status', 'stats.category_chart': 'By Category',
        'stats.pending': 'Pending', 'stats.in_progress': 'In Progress', 'stats.resolved': 'Resolved',
    },

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ FRANÃ‡AIS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    fr: {
        'nav.home': 'Accueil', 'nav.map': 'Carte', 'nav.create': 'CrÃ©er un signalement',
        'nav.admin': 'Panneau admin', 'nav.shop': 'Boutique', 'nav.profile': 'Profil',
        'nav.settings': 'ParamÃ¨tres', 'nav.login': 'Se connecter', 'nav.logout': 'Se dÃ©connecter',
        'auth.login': 'SE CONNECTER', 'auth.register': "S'INSCRIRE",
        'auth.welcome': 'Bienvenue', 'auth.create_account': 'CrÃ©er un compte',
        'auth.email': 'Adresse e-mail', 'auth.password': 'Mot de passe',
        'auth.confirm_password': 'Confirmer le mot de passe', 'auth.name': 'Nom complet',
        'auth.forgot': 'Mot de passe oubliÃ© ?', 'auth.loading': 'Chargement...',
        'auth.enter': 'Connexion â†’', 'auth.fill_required': 'Veuillez remplir tous les champs obligatoires.',
        'auth.passwords_no_match': 'Les mots de passe ne correspondent pas.', 'auth.error': "Erreur d'authentification",
        'auth.name_placeholder': 'Votre nom', 'auth.email_placeholder': 'email@exemple.com',
        'auth.forgot_support': 'Veuillez contacter le support pour rÃ©initialiser votre mot de passe.',
        'report.photo': 'Photo', 'report.click_drag': 'Cliquez ou faites glisser une photo',
        'report.description': 'Description', 'report.desc_placeholder': "DÃ©crivez le problÃ¨me (ex. Lampadaire cassÃ© rue...)...",
        'report.title': 'Titre', 'report.title_placeholder': 'Titre bref',
        'report.category': 'CatÃ©gorie', 'report.location': 'Localisation',
        'report.location_hint': "Entrez l'adresse ou dÃ©tectez votre position :",
        'report.street_placeholder': "Saisir une rue...", 'report.detect': 'DÃ©tecter ma position',
        'report.detecting': 'Localisation...', 'report.detected': 'Position dÃ©tectÃ©e',
        'report.cancel': 'Annuler', 'report.submit': 'Envoyer le signalement',
        'report.ai': 'IA AutocomplÃ©tition', 'report.analyzing': 'Analyse...',
        'report.delete': 'Supprimer', 'report.validating': 'Validation...',
        'report.selected_location': 'Position sÃ©lectionnÃ©e :', 'report.lat': 'Latitude :', 'report.lng': 'Longitude :',
        'map.legend': 'LÃ©gende', 'map.pending': 'En attente', 'map.in_progress': 'En cours', 'map.resolved': 'RÃ©solu',
        'map.no_issues': 'Aucun signalement.', 'map.all_categories': 'Toutes les catÃ©gories',
        'map.all_statuses': 'Tous les statuts', 'map.filter': 'Filtrer :', 'map.results': 'rÃ©sultats',
        'ps.tab_profile': 'Profil', 'ps.tab_settings': 'ParamÃ¨tres',
        'ps.edit': 'Modifier', 'ps.cancel': 'Annuler', 'ps.save': 'Enregistrer',
        'ps.upload_photo': 'TÃ©lÃ©charger photo', 'ps.remove_photo': 'Supprimer photo',
        'ps.personal_info': 'Informations personnelles',
        'ps.name': 'Nom', 'ps.email': 'E-mail', 'ps.role': 'RÃ´le',
        'ps.profile_tag': 'Tag de profil', 'ps.tag_none': 'Aucun',
        'ps.badges': 'Badges', 'ps.no_badges': "Vous n'avez pas encore de badges.",
        'ps.stats': 'Statistiques', 'ps.reports': 'Signalements', 'ps.resolved': 'RÃ©solus',
        'ps.citizen': 'Citoyen actif', 'ps.admin_title': 'Administrateur municipal',
        'ps.admin_panel': "Panneau d'administration", 'ps.admin_desc': "AccÃ¨s privilÃ©giÃ© Ã  la gestion des services urbains.",
        'ps.level': 'Niveau', 'ps.next_level': 'Niveau suivant :', 'ps.keep_reporting': "Continuez Ã  signaler pour gagner de l'EXP.",
        'ps.unlockable_tags': 'Tags dÃ©bloquables', 'ps.acquired': 'Acquis', 'ps.unlocked': 'DÃ©bloquÃ©',
        'ps.select_tag': 'SÃ©lectionner le tag', 'ps.claim_tag': 'RÃ©clamer et sÃ©lectionner', 'ps.requires_level': 'NÃ©cessite niveau',
        'ps.tag_claimed': 'Tag rÃ©clamÃ©', 'ps.tag_selected': 'Tag sÃ©lectionnÃ©',
        'settings.title': 'ParamÃ¨tres', 'settings.language': 'Langue', 'settings.theme': 'ThÃ¨me',
        'settings.theme_light': 'Mode clair', 'settings.theme_dark': 'Mode sombre',
        'settings.account': 'Compte', 'settings.change_password': 'Changer le mot de passe',
        'settings.current_password': 'Mot de passe actuel', 'settings.new_password': 'Nouveau mot de passe',
        'settings.save_pw': 'Changer le mot de passe', 'settings.saving': 'Enregistrement...',
        'settings.clear': 'Effacer', 'settings.pw_saved': 'Mot de passe mis Ã  jour',
        'settings.not_auth': 'Non authentifiÃ©', 'settings.fill_both': 'Remplissez les deux champs',
        'settings.logout': 'Se dÃ©connecter',
        'access.denied': 'AccÃ¨s refusÃ©', 'access.admin_only': 'RÃ©servÃ© au personnel municipal autorisÃ©.',
        'general.no_issues': 'Aucun signalement.', 'general.results': 'rÃ©sultats',
        'general.citizen': 'Citoyen', 'general.admin': 'Administrateur',
        // Categories & Status
        'cat.infra': 'Infrastructure', 'cat.lighting': 'Ã‰clairage', 'cat.cleaning': 'PropretÃ©',
        'cat.noise': 'Bruit', 'cat.parks': 'Parcs et Jardins', 'cat.other': 'Autre',
        'status.pending': 'En attente', 'status.in_progress': 'En cours', 'status.resolved': 'RÃ©solu',
        'landing.platform': 'La plateforme citoyenne de SÃ©ville',
        'landing.hero_line1': 'Votre quartier,', 'landing.hero_line2': 'entre de bonnes mains.',
        'landing.subtitle': 'Signalez des problÃ¨mes urbains instantanÃ©ment et collaborez avec la Mairie pour faire de SÃ©ville un endroit meilleur.',
        'landing.cta_start': 'Commencer', 'landing.cta_map': 'Explorer la carte',
        'landing.step1_title': '1. Capturez', 'landing.step1_desc': 'Prenez une photo du problÃ¨me et joignez-la dans l\'application.',
        'landing.step2_title': '2. GÃ©olocalisez', 'landing.step2_desc': 'Confirmez l\'emplacement exact sur la carte interactive pour que les services sachent oÃ¹ intervenir.',
        'landing.step3_title': '3. RÃ©solvez', 'landing.step3_desc': 'Gagnez des points lorsque votre signalement est validÃ© et observez sa rÃ©solution en temps rÃ©el.',
        'landing.stat_districts': 'Quartiers', 'landing.stat_neighbors': 'RÃ©sidents', 'landing.stat_resolved': 'RÃ©solus', 'landing.stat_rating': 'Note',
        'shop.title': 'Boutique de rÃ©compenses', 'shop.subtitle': 'Ã‰changez vos points contre des personnalisations exclusives',
        'shop.balance': 'Votre solde', 'shop.how_points': 'Comment fonctionnent les points',
        'shop.premium_title': 'ReportaYa Premium', 'shop.premium_sub': 'Fonds exclusifs, tags uniques et support prioritaire.',
        'shop.premium_exclusive': 'Contenu exclusif', 'shop.premium_tags': 'Tags premium',
        'shop.get_premium': 'Obtenir Premium', 'shop.my_benefits': 'Mes avantages',
        'shop.tab_frames': 'Cadres', 'shop.tab_backgrounds': 'Fonds', 'shop.tab_badges': 'Ã‰tiquettes',
        'shop.free': 'Gratuit', 'shop.equipped': 'Ã‰quipÃ©', 'shop.equip': 'Ã‰quiper',
        'shop.buy': 'Acheter', 'shop.no_points': 'Points insuffisants', 'shop.premium_only': 'Premium uniquement',
        'shop.close': 'Fermer', 'shop.price': 'Prix',
        'shop.points_title': 'Comment fonctionnent les Points et XP ?',
        'shop.points_sub': 'RÃ©sumÃ© rapide pour gagner des points, monter de niveau et les Ã©changer.',
        'shop.points_card': 'Points', 'shop.points_desc': 'Les points sont gagnÃ©s en envoyant des signalements et servent Ã  Ã©changer des fonds, cadres et badges.',
        'shop.xp_card': 'XP et Niveaux', 'shop.xp_desc': 'Les XP reflÃ¨tent votre activitÃ©. Monter de niveau dÃ©bloque des tags tous les 20 niveaux.',
        'shop.store_card': 'Boutique', 'shop.store_desc': 'Ã‰changez vos points contre des personnalisations. Certains articles nÃ©cessitent Premium.',
        'shop.buy_for': 'Acheter pour', 'shop.premium_thanks': 'Merci pour Premium !', 'shop.premium_updated': 'Votre compte a Ã©tÃ© mis Ã  jour.',
        'shop.premium_enjoy': 'Profitez des fonds, tags, bonus et support prioritaire exclusifs.',
        // Shop Items & Reports
        'item.frame_default.name': 'Bordure Classique', 'item.frame_default.desc': 'Le style standard.',
        'item.frame_betis.name': 'Vert et Blanc', 'item.frame_betis.desc': 'Pour les fidÃ¨les d\'HÃ©liopolis.',
        'item.frame_seville.name': 'Rouge SÃ©ville', 'item.frame_seville.desc': 'Pour les fidÃ¨les de NerviÃ³n.',
        'item.frame_gold.name': 'Cadre en Or', 'item.frame_gold.desc': 'Une touche d\'Ã©lÃ©gance pour les citoyens exemplaires.',
        'item.frame_feria.name': 'Feria d\'Avril', 'item.frame_feria.desc': 'Style lanternes et pois.',
        'item.frame_nazareno.name': 'Semaine Sainte', 'item.frame_nazareno.desc': 'Violet solennel nazarÃ©en.',
        'item.frame_triana.name': 'CÃ©ramique Triana', 'item.frame_triana.desc': 'InspirÃ© par les carreaux du pont.',
        'item.frame_diamond.name': 'Diamant VIP', 'item.frame_diamond.desc': 'Uniquement pour les citoyens les plus actifs.',
        'item.bg_default.name': 'Vert Espoir', 'item.bg_default.desc': 'Fond Vert Espoir.',
        'item.bg_alameda.name': 'Coucher de soleil Plaza EspaÃ±a', 'item.bg_alameda.desc': 'Coucher de soleil Plaza EspaÃ±a.',
        'item.bg_guadalquivir.name': 'Fleuve Guadalquivir', 'item.bg_guadalquivir.desc': 'FraÃ®cheur bleu verdÃ¢tre.',
        'item.bg_azahar.name': 'CathÃ©drale de SÃ©ville', 'item.bg_azahar.desc': 'CathÃ©drale de SÃ©ville.',
        'item.bg_fondo_inicio.name': 'Fond d\'Accueil', 'item.bg_fondo_inicio.desc': 'Image d\'en-tÃªte du site.',
        'item.bg_mosaico.name': 'Feria de SÃ©ville', 'item.bg_mosaico.desc': 'ScÃ¨ne de la Feria de SÃ©ville.',
        'item.bg_cielo.name': 'Ciel SÃ©villan', 'item.bg_cielo.desc': 'Vues de la ville et du ciel.',
        'item.bg_plaza_alba.name': 'Place Ã  l\'Aube', 'item.bg_plaza_alba.desc': 'Tons chauds au lever du soleil.',
        'item.bg_azulejos.name': 'Azulejos Triana', 'item.bg_azulejos.desc': 'Motif inspirÃ© des carreaux.',
        'item.bg_giralda.name': 'Coucher de soleil Giralda', 'item.bg_giralda.desc': 'Couleurs du ciel sur la tour.',
        'item.bg_alcazar.name': 'Or de l\'Alcazar', 'item.bg_alcazar.desc': 'Luxe historique et motifs dorÃ©s.',
        'item.bg_noche.name': 'Nuit SÃ©villane', 'item.bg_noche.desc': 'Ã‰lÃ©gance nocturne sous les Ã©toiles.',
        'item.tag_colaborador.name': 'Collaborateur', 'item.tag_colaborador.desc': 'Utilisateur actif collaborant avec son quartier.',
        'item.tag_guardian.name': 'Gardien de SÃ©ville', 'item.tag_guardian.desc': 'ProtÃ¨ge et surveille votre environnement urbain.',
        'item.tag_mvp.name': 'MVP Citoyen', 'item.tag_mvp.desc': 'Reconnaissance pour contributions exceptionnelles.',
        'item.tag_voluntario.name': 'BÃ©nÃ©vole', 'item.tag_voluntario.desc': 'Participe aux initiatives de quartier.',
        'item.tag_conserje.name': 'Concierge', 'item.tag_conserje.desc': 'Prend soin de l\'environnement et signale les problÃ¨mes.',
        'item.tag_elite.name': 'Ã‰lite Citoyenne', 'item.tag_elite.desc': 'Tag exclusif pour les utilisateurs Premium.',
        'item.tag_embajador.name': 'Ambassadeur', 'item.tag_embajador.desc': 'ReprÃ©sentant communautaire actif et reconnu.',
        'item.tag_founder.name': 'Fondateur', 'item.tag_founder.desc': 'Ã‰dition limitÃ©e pour les mÃ©cÃ¨nes fondateurs.',
        'item.tag_developer.name': 'DÃ©veloppeur', 'item.tag_developer.desc': 'Badge de dÃ©veloppeur (test).',
        'item.tag_admin.name': 'Admin', 'item.tag_admin.desc': 'Badge d\'administrateur municipal.',

        // Stats Panel
        'stats.title': 'Panneau de ContrÃ´le Municipal', 'stats.subtitle': 'Gestion des incidents et mesures de la ville',
        'stats.city': 'SÃ©ville, Espagne', 'stats.total_reports': 'Total des Rapports', 'stats.resolved_reports': 'RÃ©solu',
        'stats.avg_time': 'Temps Moyen', 'stats.status_chart': 'Ã‰tat de l\'Incident', 'stats.category_chart': 'Par CatÃ©gorie',
        'stats.pending': 'En attente', 'stats.in_progress': 'En cours', 'stats.resolved': 'RÃ©solu',
    },

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ITALIANO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    it: {
        'nav.home': 'Home', 'nav.map': 'Mappa', 'nav.create': 'Segnala',
        'nav.admin': 'Pannello Admin', 'nav.shop': 'Negozio', 'nav.profile': 'Profilo',
        'nav.settings': 'Impostazioni', 'nav.login': 'Accedi', 'nav.logout': 'Esci',
        'auth.login': 'ACCEDI', 'auth.register': 'REGISTRATI',
        'auth.welcome': 'Benvenuto', 'auth.create_account': 'Crea Account',
        'auth.email': 'Indirizzo e-mail', 'auth.password': 'Password',
        'auth.confirm_password': 'Conferma Password', 'auth.name': 'Nome Completo',
        'auth.forgot': 'Hai dimenticato la password?', 'auth.loading': 'Caricamento...',
        'auth.enter': 'Accedi â†’', 'auth.fill_required': 'Compila tutti i campi obbligatori.',
        'auth.passwords_no_match': 'Le password non coincidono.', 'auth.error': 'Errore di autenticazione',
        'auth.name_placeholder': 'Il tuo nome', 'auth.email_placeholder': 'email@esempio.it',
        'auth.forgot_support': 'Contatta il supporto per reimpostare la password.',
        'report.photo': 'Foto', 'report.click_drag': 'Clicca o trascina una foto',
        'report.description': 'Descrizione', 'report.desc_placeholder': 'Descrivi il problema (es. Lampione rotto in via...)...',
        'report.title': 'Titolo', 'report.title_placeholder': 'Titolo breve',
        'report.category': 'Categoria', 'report.location': 'Posizione',
        'report.location_hint': "Inserisci l'indirizzo o rileva la tua posizione:",
        'report.street_placeholder': 'Scrivi una via...', 'report.detect': 'Rileva la mia posizione',
        'report.detecting': 'Rilevamento...', 'report.detected': 'Posizione rilevata',
        'report.cancel': 'Annulla', 'report.submit': 'Invia Segnalazione',
        'report.ai': 'IA Auto-completamento', 'report.analyzing': 'Analisi...',
        'report.delete': 'Rimuovi', 'report.validating': 'Validazione...',
        'report.selected_location': 'Posizione selezionata:', 'report.lat': 'Latitudine:', 'report.lng': 'Longitudine:',
        'map.legend': 'Legenda', 'map.pending': 'In attesa', 'map.in_progress': 'In corso', 'map.resolved': 'Risolto',
        'map.no_issues': 'Nessuna segnalazione.', 'map.all_categories': 'Tutte le categorie',
        'map.all_statuses': 'Tutti gli stati', 'map.filter': 'Filtra:', 'map.results': 'risultati',
        'ps.tab_profile': 'Profilo', 'ps.tab_settings': 'Impostazioni',
        'ps.edit': 'Modifica', 'ps.cancel': 'Annulla', 'ps.save': 'Salva Modifiche',
        'ps.upload_photo': 'Carica foto', 'ps.remove_photo': 'Rimuovi foto',
        'ps.personal_info': 'Informazioni Personali',
        'ps.name': 'Nome', 'ps.email': 'E-mail', 'ps.role': 'Ruolo',
        'ps.profile_tag': 'Tag profilo', 'ps.tag_none': 'Nessuno',
        'ps.badges': 'Distintivi', 'ps.no_badges': 'Nessun distintivo ancora.',
        'ps.stats': 'Statistiche', 'ps.reports': 'Segnalazioni', 'ps.resolved': 'Risolti',
        'ps.citizen': 'Cittadino attivo', 'ps.admin_title': 'Amministratore Municipale',
        'ps.admin_panel': 'Pannello Admin', 'ps.admin_desc': 'Accesso privilegiato alla gestione dei servizi urbani.',
        'ps.level': 'Livello', 'ps.next_level': 'Livello successivo:', 'ps.keep_reporting': 'Continua a segnalare per guadagnare EXP.',
        'ps.unlockable_tags': 'Tag sbloccabili', 'ps.acquired': 'Acquisito', 'ps.unlocked': 'Sbloccato',
        'ps.select_tag': 'Seleziona tag', 'ps.claim_tag': 'Ottieni e seleziona', 'ps.requires_level': 'Richiede livello',
        'ps.tag_claimed': 'Tag ottenuto', 'ps.tag_selected': 'Tag selezionato',
        'settings.title': 'Impostazioni', 'settings.language': 'Lingua', 'settings.theme': 'Tema',
        'settings.theme_light': 'ModalitÃ  chiara', 'settings.theme_dark': 'ModalitÃ  scura',
        'settings.account': 'Account', 'settings.change_password': 'Cambia password',
        'settings.current_password': 'Password attuale', 'settings.new_password': 'Nuova password',
        'settings.save_pw': 'Cambia password', 'settings.saving': 'Salvataggio...',
        'settings.clear': 'Cancella', 'settings.pw_saved': 'Password aggiornata con successo',
        'settings.not_auth': 'Non autenticato', 'settings.fill_both': 'Compila entrambi i campi',
        'settings.logout': 'Esci',
        'access.denied': 'Accesso Negato', 'access.admin_only': 'Solo personale comunale autorizzato.',
        'general.no_issues': 'Nessuna segnalazione.', 'general.results': 'risultati',
        'general.citizen': 'Cittadino', 'general.admin': 'Amministratore',
        // Categories & Status
        'cat.infra': 'Infrastrutture', 'cat.lighting': 'Illuminazione', 'cat.cleaning': 'Pulizia',
        'cat.noise': 'Rumore', 'cat.parks': 'Parchi e Giardini', 'cat.other': 'Altro',
        'status.pending': 'In attesa', 'status.in_progress': 'In corso', 'status.resolved': 'Risolto',
        'landing.platform': 'La piattaforma civica di Siviglia',
        'landing.hero_line1': 'Il tuo quartiere,', 'landing.hero_line2': 'in buone mani.',
        'landing.subtitle': 'Segnala problemi urbani immediatamente e collabora con il Comune per rendere Siviglia un posto migliore per tutti.',
        'landing.cta_start': 'Inizia Ora', 'landing.cta_map': 'Esplora la Mappa',
        'landing.step1_title': '1. Cattura', 'landing.step1_desc': 'Scatta una foto del problema e allegala nell\'applicazione.',
        'landing.step2_title': '2. Geolocalizza', 'landing.step2_desc': 'Conferma la posizione esatta sulla mappa interattiva in modo che i servizi sappiano dove intervenire.',
        'landing.step3_title': '3. Risolvi', 'landing.step3_desc': 'Guadagna punti quando la tua segnalazione viene validata e osserva come viene risolta in tempo reale.',
        'landing.stat_districts': 'Quartieri', 'landing.stat_neighbors': 'Residenti', 'landing.stat_resolved': 'Risolte', 'landing.stat_rating': 'Valutazione',
        'shop.title': 'Negozio Premi', 'shop.subtitle': 'Riscatta i tuoi punti per personalizzazioni esclusive',
        'shop.balance': 'Il tuo Saldo', 'shop.how_points': 'Come funzionano i punti',
        'shop.premium_title': 'ReportaYa Premium', 'shop.premium_sub': 'Sfondi esclusivi, tag unici e supporto prioritario.',
        'shop.premium_exclusive': 'Contenuto esclusivo', 'shop.premium_tags': 'Tag premium',
        'shop.get_premium': 'Voglio Premium', 'shop.my_benefits': 'I miei vantaggi',
        'shop.tab_frames': 'Cornici', 'shop.tab_backgrounds': 'Sfondi', 'shop.tab_badges': 'Etichette',
        'shop.free': 'Gratis', 'shop.equipped': 'Equipaggiato', 'shop.equip': 'Equipaggia',
        'shop.buy': 'Acquista', 'shop.no_points': 'Punti insufficienti', 'shop.premium_only': 'Solo Premium',
        'shop.close': 'Chiudi', 'shop.price': 'Prezzo',
        'shop.points_title': 'Come funzionano i Punti e XP?',
        'shop.points_sub': 'Breve panoramica su come guadagnare punti, salire di livello e riscattarli nel negozio.',
        'shop.points_card': 'Punti', 'shop.points_desc': 'I punti si guadagnano inviando segnalazioni e si usano per riscattare sfondi, cornici e distintivi nel negozio.',
        'shop.xp_card': 'XP e Livelli', 'shop.xp_desc': 'Gli XP riflettono la tua attivitÃ . Salire di livello sblocca tag ogni 20 livelli.',
        'shop.store_card': 'Negozio', 'shop.store_desc': 'Riscatta i tuoi punti per personalizzazioni. Alcuni articoli richiedono Premium.',
        'shop.buy_for': 'Acquista per', 'shop.premium_thanks': 'Grazie per Premium!', 'shop.premium_updated': 'Il tuo account Ã¨ stato aggiornato.',
        'shop.premium_enjoy': 'Goditi sfondi, tag, bonus e supporto prioritario esclusivi.',
        // Shop Items & Reports
        'item.frame_default.name': 'Bordo Classico', 'item.frame_default.desc': 'Lo stile standard.',
        'item.frame_betis.name': 'Verdebianco', 'item.frame_betis.desc': 'Per i fedeli di HeliÃ³polis.',
        'item.frame_seville.name': 'Rosso Siviglia', 'item.frame_seville.desc': 'Per i fedeli di NerviÃ³n.',
        'item.frame_gold.name': 'Cornice Oro', 'item.frame_gold.desc': 'Un tocco di eleganza per cittadini esemplari.',
        'item.frame_feria.name': 'Feria de Abril', 'item.frame_feria.desc': 'Stile lanterne e pois.',
        'item.frame_nazareno.name': 'Settimana Santa', 'item.frame_nazareno.desc': 'Solenne viola nazareno.',
        'item.frame_triana.name': 'Ceramica Triana', 'item.frame_triana.desc': 'Ispirato alle piastrelle del ponte.',
        'item.frame_diamond.name': 'Diamante VIP', 'item.frame_diamond.desc': 'Solo per i cittadini piÃ¹ attivi.',
        'item.bg_default.name': 'Verde Speranza', 'item.bg_default.desc': 'Sfondo Verde Speranza.',
        'item.bg_alameda.name': 'Tramonto Plaza EspaÃ±a', 'item.bg_alameda.desc': 'Tramonto Plaza EspaÃ±a.',
        'item.bg_guadalquivir.name': 'Fiume Guadalquivir', 'item.bg_guadalquivir.desc': 'Freschezza blu verdastra.',
        'item.bg_azahar.name': 'Cattedrale di Siviglia', 'item.bg_azahar.desc': 'Cattedrale di Siviglia.',
        'item.bg_fondo_inicio.name': 'Sfondo Home', 'item.bg_fondo_inicio.desc': 'Immagine testata del sito.',
        'item.bg_mosaico.name': 'Feria di Siviglia', 'item.bg_mosaico.desc': 'Scena della Feria di Siviglia.',
        'item.bg_cielo.name': 'Cielo Sivigliano', 'item.bg_cielo.desc': 'Viste della cittÃ  e del cielo.',
        'item.bg_plaza_alba.name': 'Piazza all\'Alba', 'item.bg_plaza_alba.desc': 'Toni caldi all\'alba.',
        'item.bg_azulejos.name': 'Azulejos Triana', 'item.bg_azulejos.desc': 'Motivo ispirato alle piastrelle.',
        'item.bg_giralda.name': 'Tramonto Giralda', 'item.bg_giralda.desc': 'Colori del cielo sopra la torre.',
        'item.bg_alcazar.name': 'Oro dell\'Alcazar', 'item.bg_alcazar.desc': 'Lusso storico e motivi dorati.',
        'item.bg_noche.name': 'Notte Sivigliana', 'item.bg_noche.desc': 'Eleganza notturna sotto le stelle.',
        'item.tag_colaborador.name': 'Collaboratore', 'item.tag_colaborador.desc': 'Utente attivo che collabora con il quartiere.',
        'item.tag_guardian.name': 'Guardia di Siviglia', 'item.tag_guardian.desc': 'Protegge e sorveglia l\'ambiente urbano.',
        'item.tag_mvp.name': 'MVP Cittadino', 'item.tag_mvp.desc': 'Riconoscimento per contributi eccezionali.',
        'item.tag_voluntario.name': 'Volontario', 'item.tag_voluntario.desc': 'Partecipa alle iniziative di quartiere.',
        'item.tag_conserje.name': 'Custode', 'item.tag_conserje.desc': 'Si prende cura dell\'ambiente e segnala problemi.',
        'item.tag_elite.name': 'Elite Cittadina', 'item.tag_elite.desc': 'Tag esclusivo per utenti Premium.',
        'item.tag_embajador.name': 'Ambasciatore', 'item.tag_embajador.desc': 'Rappresentante della comunitÃ  attivo e riconosciuto.',
        'item.tag_founder.name': 'Fondatore', 'item.tag_founder.desc': 'Edizione limitata per i fondatori.',
        'item.tag_developer.name': 'Sviluppatore', 'item.tag_developer.desc': 'Badge sviluppatore (test).',
        'item.tag_admin.name': 'Admin', 'item.tag_admin.desc': 'Badge amministratore comunale.',

        // Stats Panel
        'stats.title': 'Pannello di Controllo Municipale', 'stats.subtitle': 'Gestione degli incidenti e metriche della cittÃ ',
        'stats.city': 'Siviglia, Spagna', 'stats.total_reports': 'Report Totali', 'stats.resolved_reports': 'Risolto',
        'stats.avg_time': 'Tempo Medio', 'stats.status_chart': 'Stato dell\'Incidente', 'stats.category_chart': 'Per Categoria',
        'stats.pending': 'In attesa', 'stats.in_progress': 'In corso', 'stats.resolved': 'Risolto',
    },

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ PORTUGUÃŠS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    pt: {
        'nav.home': 'InÃ­cio', 'nav.map': 'Mapa', 'nav.create': 'Criar RelatÃ³rio',
        'nav.admin': 'Painel Admin', 'nav.shop': 'Loja', 'nav.profile': 'Perfil',
        'nav.settings': 'ConfiguraÃ§Ãµes', 'nav.login': 'Entrar', 'nav.logout': 'Sair',
        'auth.login': 'ENTRAR', 'auth.register': 'REGISTRAR',
        'auth.welcome': 'Bem-vindo', 'auth.create_account': 'Criar Conta',
        'auth.email': 'EndereÃ§o de e-mail', 'auth.password': 'Senha',
        'auth.confirm_password': 'Confirmar Senha', 'auth.name': 'Nome Completo',
        'auth.forgot': 'Esqueceu a senha?', 'auth.loading': 'Carregando...',
        'auth.enter': 'Entrar â†’', 'auth.fill_required': 'Por favor, preencha todos os campos obrigatÃ³rios.',
        'auth.passwords_no_match': 'As senhas nÃ£o coincidem.', 'auth.error': 'Erro de autenticaÃ§Ã£o',
        'auth.name_placeholder': 'Seu nome', 'auth.email_placeholder': 'email@exemplo.com',
        'auth.forgot_support': 'Por favor, contate o suporte para redefinir sua senha.',
        'report.photo': 'Foto', 'report.click_drag': 'Clique ou arraste uma foto',
        'report.description': 'DescriÃ§Ã£o', 'report.desc_placeholder': 'Descreva o problema (ex. Poste quebrado na rua...)...',
        'report.title': 'TÃ­tulo', 'report.title_placeholder': 'TÃ­tulo breve',
        'report.category': 'Categoria', 'report.location': 'LocalizaÃ§Ã£o',
        'report.location_hint': 'Digite o endereÃ§o ou detecte sua localizaÃ§Ã£o:',
        'report.street_placeholder': 'Digite uma rua...', 'report.detect': 'Detectar minha localizaÃ§Ã£o',
        'report.detecting': 'Localizando...', 'report.detected': 'LocalizaÃ§Ã£o detectada',
        'report.cancel': 'Cancelar', 'report.submit': 'Enviar RelatÃ³rio',
        'report.ai': 'IA Auto-completar', 'report.analyzing': 'Analisando...',
        'report.delete': 'Remover', 'report.validating': 'Validando...',
        'report.selected_location': 'LocalizaÃ§Ã£o selecionada:', 'report.lat': 'Latitude:', 'report.lng': 'Longitude:',
        'map.legend': 'Legenda', 'map.pending': 'Pendente', 'map.in_progress': 'Em andamento', 'map.resolved': 'Resolvido',
        'map.no_issues': 'Sem ocorrÃªncias.', 'map.all_categories': 'Todas as categorias',
        'map.all_statuses': 'Todos os estados', 'map.filter': 'Filtrar:', 'map.results': 'resultados',
        'ps.tab_profile': 'Perfil', 'ps.tab_settings': 'ConfiguraÃ§Ãµes',
        'ps.edit': 'Editar', 'ps.cancel': 'Cancelar', 'ps.save': 'Salvar AlteraÃ§Ãµes',
        'ps.upload_photo': 'Enviar foto', 'ps.remove_photo': 'Remover foto',
        'ps.personal_info': 'InformaÃ§Ãµes Pessoais',
        'ps.name': 'Nome', 'ps.email': 'E-mail', 'ps.role': 'FunÃ§Ã£o',
        'ps.profile_tag': 'Tag de perfil', 'ps.tag_none': 'Nenhum',
        'ps.badges': 'Medalhas', 'ps.no_badges': 'VocÃª ainda nÃ£o tem medalhas.',
        'ps.stats': 'EstatÃ­sticas', 'ps.reports': 'RelatÃ³rios', 'ps.resolved': 'Resolvidos',
        'ps.citizen': 'CidadÃ£o ativo', 'ps.admin_title': 'Administrador Municipal',
        'ps.admin_panel': 'Painel de Administrador', 'ps.admin_desc': 'Acesso privilegiado para gestÃ£o de serviÃ§os urbanos.',
        'ps.level': 'NÃ­vel', 'ps.next_level': 'PrÃ³ximo NÃ­vel:', 'ps.keep_reporting': 'Continue reportando para ganhar EXP.',
        'ps.unlockable_tags': 'Tags desbloqueÃ¡veis', 'ps.acquired': 'Adquirido', 'ps.unlocked': 'Desbloqueado',
        'ps.select_tag': 'Selecionar tag', 'ps.claim_tag': 'Reivindicar e selecionar', 'ps.requires_level': 'Requer nÃ­vel',
        'ps.tag_claimed': 'Tag reivindicada', 'ps.tag_selected': 'Tag selecionada',
        'settings.title': 'ConfiguraÃ§Ãµes', 'settings.language': 'Idioma', 'settings.theme': 'Tema',
        'settings.theme_light': 'Modo claro', 'settings.theme_dark': 'Modo escuro',
        'settings.account': 'Conta', 'settings.change_password': 'Alterar senha',
        'settings.current_password': 'Senha atual', 'settings.new_password': 'Nova senha',
        'settings.save_pw': 'Alterar senha', 'settings.saving': 'Salvando...',
        'settings.clear': 'Limpar', 'settings.pw_saved': 'Senha atualizada com sucesso',
        'settings.not_auth': 'NÃ£o autenticado', 'settings.fill_both': 'Preencha ambos os campos',
        'settings.logout': 'Sair',
        'access.denied': 'Acesso Negado', 'access.admin_only': 'Apenas pessoal autorizado da prefeitura.',
        'general.no_issues': 'Sem ocorrÃªncias.', 'general.results': 'resultados',
        'general.citizen': 'CidadÃ£o', 'general.admin': 'Administrador',
        // Categories & Status
        'cat.infra': 'Infraestrutura', 'cat.lighting': 'IluminaÃ§Ã£o', 'cat.cleaning': 'Limpeza',
        'cat.noise': 'RuÃ­do', 'cat.parks': 'Parques e Jardins', 'cat.other': 'Outro',
        'status.pending': 'Pendente', 'status.in_progress': 'Em andamento', 'status.resolved': 'Resolvido',
        'landing.platform': 'A plataforma cidadÃ£ de Sevilha',
        'landing.hero_line1': 'O seu bairro,', 'landing.hero_line2': 'em boas mÃ£os.',
        'landing.subtitle': 'Reporte problemas urbanos instantaneamente e colabore com a CÃ¢mara Municipal para fazer de Sevilha um lugar melhor para todos.',
        'landing.cta_start': 'ComeÃ§ar Agora', 'landing.cta_map': 'Explorar Mapa',
        'landing.step1_title': '1. Capture', 'landing.step1_desc': 'Tire uma foto do problema e anexe-a na aplicaÃ§Ã£o.',
        'landing.step2_title': '2. Geolocalizar', 'landing.step2_desc': 'Confirme a localizaÃ§Ã£o exata no mapa interativo para que os serviÃ§os saibam onde atuar.',
        'landing.step3_title': '3. Resolver', 'landing.step3_desc': 'Ganhe pontos quando seu relato for validado e acompanhe a resoluÃ§Ã£o em tempo real.',
        'landing.stat_districts': 'Distritos', 'landing.stat_neighbors': 'Residentes', 'landing.stat_resolved': 'Resolvidos', 'landing.stat_rating': 'AvaliaÃ§Ã£o',
        'shop.title': 'Loja de Recompensas', 'shop.subtitle': 'Troque seus pontos por personalizaÃ§Ãµes exclusivas',
        'shop.balance': 'Seu Saldo', 'shop.how_points': 'Como funcionam os pontos',
        'shop.premium_title': 'ReportaYa Premium', 'shop.premium_sub': 'Fundos exclusivos, tags Ãºnicas e suporte prioritÃ¡rio.',
        'shop.premium_exclusive': 'ConteÃºdo exclusivo', 'shop.premium_tags': 'Tags premium',
        'shop.get_premium': 'Quero Premium', 'shop.my_benefits': 'Meus benefÃ­cios',
        'shop.tab_frames': 'Molduras', 'shop.tab_backgrounds': 'Fundos', 'shop.tab_badges': 'Etiquetas',
        'shop.free': 'GrÃ¡tis', 'shop.equipped': 'Equipado', 'shop.equip': 'Equipar',
        'shop.buy': 'Comprar', 'shop.no_points': 'Pontos insuficientes', 'shop.premium_only': 'Apenas Premium',
        'shop.close': 'Fechar', 'shop.price': 'PreÃ§o',
        'shop.points_title': 'Como funcionam os Pontos e XP?',
        'shop.points_sub': 'Resumo rÃ¡pido de como ganhar pontos, subir de nÃ­vel e resgatÃ¡-los na loja.',
        'shop.points_card': 'Pontos', 'shop.points_desc': 'Os pontos sÃ£o obtidos ao enviar relatÃ³rios e usados para resgatar fundos, molduras e medalhas na loja.',
        'shop.xp_card': 'XP e NÃ­veis', 'shop.xp_desc': 'O XP reflete sua atividade. Subir de nÃ­vel desbloqueia tags a cada 20 nÃ­veis.',
        'shop.store_card': 'Loja', 'shop.store_desc': 'Resgate seus pontos por personalizaÃ§Ãµes. Alguns itens requerem Premium.',
        'shop.buy_for': 'Comprar por', 'shop.premium_thanks': 'Obrigado pelo Premium!', 'shop.premium_updated': 'Sua conta foi atualizada.',
        'shop.premium_enjoy': 'Aproveite fundos, tags, bÃ´nus e suporte prioritÃ¡rio exclusivos.',
        // Shop Items & Reports
        'item.frame_default.name': 'Borda ClÃ¡ssica', 'item.frame_default.desc': 'O estilo padrÃ£o.',
        'item.frame_betis.name': 'Verdiblanco', 'item.frame_betis.desc': 'Para os fiÃ©is de HeliÃ³polis.',
        'item.frame_seville.name': 'Vermelho Sevilha', 'item.frame_seville.desc': 'Para os fiÃ©is de NerviÃ³n.',
        'item.frame_gold.name': 'Moldura de Ouro', 'item.frame_gold.desc': 'Um toque de elegÃ¢ncia para cidadÃ£os exemplares.',
        'item.frame_feria.name': 'Feira de Abril', 'item.frame_feria.desc': 'Estilo lanternas e bolas.',
        'item.frame_nazareno.name': 'Semana Santa', 'item.frame_nazareno.desc': 'Roxo solene nazareno.',
        'item.frame_triana.name': 'CerÃ¢mica Triana', 'item.frame_triana.desc': 'Inspirado nos azulejos da ponte.',
        'item.frame_diamond.name': 'Diamante VIP', 'item.frame_diamond.desc': 'Apenas para os cidadÃ£os mais ativos.',
        'item.bg_default.name': 'Verde EsperanÃ§a', 'item.bg_default.desc': 'Fundo Verde EsperanÃ§a.',
        'item.bg_alameda.name': 'PÃ´r do sol Plaza EspaÃ±a', 'item.bg_alameda.desc': 'PÃ´r do sol Plaza EspaÃ±a.',
        'item.bg_guadalquivir.name': 'Rio Guadalquivir', 'item.bg_guadalquivir.desc': 'Frescura azul-esverdeada.',
        'item.bg_azahar.name': 'Catedral de Sevilha', 'item.bg_azahar.desc': 'Catedral de Sevilha.',
        'item.bg_fondo_inicio.name': 'Fundo InÃ­cio', 'item.bg_fondo_inicio.desc': 'Imagem de cabeÃ§alho do site.',
        'item.bg_mosaico.name': 'Feira de Sevilha', 'item.bg_mosaico.desc': 'Cena da Feira de Sevilha.',
        'item.bg_cielo.name': 'CÃ©u Sevilhano', 'item.bg_cielo.desc': 'Vistas da cidade e do cÃ©u.',
        'item.bg_plaza_alba.name': 'PraÃ§a ao Amanhecer', 'item.bg_plaza_alba.desc': 'Tons quentes ao amanhecer.',
        'item.bg_azulejos.name': 'Azulejos Triana', 'item.bg_azulejos.desc': 'PadrÃ£o inspirado em azulejos.',
        'item.bg_giralda.name': 'PÃ´r do sol Giralda', 'item.bg_giralda.desc': 'Cores do cÃ©u sobre a torre.',
        'item.bg_alcazar.name': 'Ouro do AlcÃ¡zar', 'item.bg_alcazar.desc': 'Luxo histÃ³rico e padrÃµes dourados.',
        'item.bg_noche.name': 'Noite Sevilhana', 'item.bg_noche.desc': 'ElegÃ¢ncia noturna sob as estrelas.',
        'item.tag_colaborador.name': 'Colaborador', 'item.tag_colaborador.desc': 'UsuÃ¡rio ativo que colabora com seu bairro.',
        'item.tag_guardian.name': 'GuardiÃ£o de Sevilha', 'item.tag_guardian.desc': 'Protege e vigia seu ambiente urbano.',
        'item.tag_mvp.name': 'MVP CidadÃ£o', 'item.tag_mvp.desc': 'Reconhecimento por contribuiÃ§Ãµes excelentes.',
        'item.tag_voluntario.name': 'VoluntÃ¡rio', 'item.tag_voluntario.desc': 'Participa em iniciativas de bairro.',
        'item.tag_conserje.name': 'Zelador', 'item.tag_conserje.desc': 'Cuida do ambiente e relata problemas.',
        'item.tag_elite.name': 'Elite CidadÃ£', 'item.tag_elite.desc': 'Tag exclusiva para usuÃ¡rios Premium.',
        'item.tag_embajador.name': 'Embaixador', 'item.tag_embajador.desc': 'Representante comunitÃ¡rio ativo e reconhecido.',
        'item.tag_founder.name': 'Fundador', 'item.tag_founder.desc': 'EdiÃ§Ã£o limitada para patronos fundadores.',
        'item.tag_developer.name': 'Desenvolvedor', 'item.tag_developer.desc': 'Medalha de desenvolvedor (teste).',
        'item.tag_admin.name': 'Admin', 'item.tag_admin.desc': 'Medalha de administrador municipal.',
        // Stats Panel
        'stats.title': 'Painel de Controlo Municipal', 'stats.subtitle': 'GestÃ£o de incidentes e mÃ©tricas da cidade',
        'stats.city': 'Sevilha, Espanha', 'stats.total_reports': 'Total de RelatÃ³rios', 'stats.resolved_reports': 'Resolvido',
        'stats.avg_time': 'Tempo MÃ©dio', 'stats.status_chart': 'Estado do Incidente', 'stats.category_chart': 'Por Categoria',
        'stats.pending': 'Pendente', 'stats.in_progress': 'Em curso', 'stats.resolved': 'Resolvido',
    },
};

// â”€â”€â”€ Locale Context â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
interface LocaleContextValue {
    locale: Locale;
    setLocale: (l: Locale) => void;
    t: (key: string) => string;
}

export const LocaleContext = createContext<LocaleContextValue>({
    locale: 'es',
    setLocale: () => { },
    t: (key) => key,
});

export function LocaleProvider({ children }: { children: React.ReactNode }) {
    const [locale, setLocaleState] = useState<Locale>(() => {
        try {
            const stored = localStorage.getItem('locale') as Locale;
            if (dict[stored]) return stored;
        } catch { }
        return 'es';
    });

    const setLocale = useCallback((l: Locale) => {
        setLocaleState(l);
        try { localStorage.setItem('locale', l); } catch { }
    }, []);

    const tFn = useCallback((key: string): string => {
        return dict[locale]?.[key] ?? dict['es']?.[key] ?? key;
    }, [locale]);

    return (
        <LocaleContext.Provider value={{ locale, setLocale, t: tFn }}>
            {children}
        </LocaleContext.Provider>
    );
}

/** Hook to use translations in any component */
export function useLocale() {
    return useContext(LocaleContext);
}

/** Standalone translate function (reads from localStorage â€” for non-React contexts) */
export function t(key: string, locale?: Locale): string {
    const loc = locale ?? (() => {
        try { return (localStorage.getItem('locale') as Locale) || 'es'; } catch { return 'es'; }
    })();
    return dict[loc]?.[key] ?? dict['es']?.[key] ?? key;
}

export function getLocale(): Locale {
    try {
        const stored = localStorage.getItem('locale') as Locale;
        if (dict[stored]) return stored;
    } catch { }
    return 'es';
}
